<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>接入微软、ChatGLM、本地模型等 | FastGPT</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="部署和接入 OneAPI，实现对各种大模型的支持"><meta name=keywords content="Documentation,Hugo,Hugo Theme,Bootstrap"><meta name=author content="Colin Wilson - Lotus Labs"><meta name=email content="support@aigis.uk"><meta name=website content="https://lotusdocs.dev"><meta name=Version content="v0.1.0"><link rel=icon href=/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=/site.webmanifest><meta property="og:title" content="接入微软、ChatGLM、本地模型等"><meta property="og:description" content="部署和接入 OneAPI，实现对各种大模型的支持"><meta property="og:type" content="article"><meta property="og:url" content="/docs/development/one-api/"><meta property="og:image" content="/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_17809985618231314401.png"><meta property="article:section" content="docs"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/opengraph/card-base-2_hu06b1a92291a380a0d2e0ec03dab66b2f_17642_filter_17809985618231314401.png"><meta name=twitter:title content="接入微软、ChatGLM、本地模型等"><meta name=twitter:description content="部署和接入 OneAPI，实现对各种大模型的支持"><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=preconnect href=https://gstatic.loli.net/><link rel=preconnect href=https://gstatic.loli.net/ crossorigin><link href="https://fonts.loli.net/css?family=Inter:300,400,600,700|Fira+Code:500,700|JetBrains+Mono:500,700&display=block" rel=stylesheet><link rel=stylesheet href=/docs/scss/style.min.87ea930383068c675adc6eb7844d10874b234df79e6ecc52db8c85742a10290aa3f24ec143e18faf0885210bc2aced19.css integrity=sha384-h+qTA4MGjGda3G63hE0Qh0sjTfeebsxS24yFdCoQKQqj8k7BQ+GPrwiFIQvCrO0Z crossorigin=anonymous><script defer type=text/javascript src=/js/jsdelivr-auto-fallback.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.us/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css></head><body><div class=content><div class="page-wrapper toggled"><nav id=sidebar class=sidebar-wrapper><div class=sidebar-brand><a href=/ aria-label=HomePage alt=HomePage style=text-transform:unset><svg width="26" height="26" viewBox="0 0 1041 1348" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M340.837.33933 681.068.338989V.455643C684.032.378397 686.999.339702 689.967.339702 735.961.3397 781.504 9.62899 823.997 27.6772 866.49 45.7254 905.099 72.1791 937.622 105.528 970.144 138.877 995.942 178.467 1013.54 222.04 1031.14 265.612 1040.2 312.312 1040.2 359.474H340.836V1347.84C296.157 1347.84 251.914 1338.55 210.636 1320.49 169.357 1302.43 131.85 1275.95 100.257 1242.58 68.6636 1209.21 43.6023 1169.59 26.5041 1125.99 11.3834 1087.43 2.75216 1046.42.957956 1004.81H.605869L.605897 368.098H.70363c-.597878-26.267 1.53378-52.655 6.43943-78.687C20.2709 219.745 52.6748 155.754 100.257 105.528 147.839 55.3017 208.462 21.0975 274.461 7.24017 296.426 2.62833 318.657.339101 340.837.33933z" fill="url(#paint0_linear_1172_228)"/><path d="M633.639 904.645H513.029V576.37H635.422V576.377C678.161 576.607 720.454 585.093 759.951 601.37 799.997 617.874 836.384 642.064 867.033 672.559c30.65 30.495 54.963 66.698 71.55 106.542C955.171 818.944 963.709 861.648 963.709 904.775H633.639V904.645z" fill="url(#paint1_linear_1172_228)"/><defs><linearGradient id="paint0_linear_1172_228" x1="520.404" y1=".338989" x2="520.404" y2="1347.84" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient><linearGradient id="paint1_linear_1172_228" x1="738.369" y1="576.37" x2="738.369" y2="904.775" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient></defs></svg>&nbsp;
FastGPT</a></div><div class=sidebar-content style="height:calc(100% - 131px)"><ul class=sidebar-menu><li><a class=sidebar-root-link href=/docs/intro/><i class="material-icons me-2">rocket_launch</i>
快速了解 FastGPT</a></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">import_contacts</i>
基础教程</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/course/quick-start/>快速上手</a></li><li><a class=sidebar-nested-link href=/docs/course/websync/>Web 站点同步</a></li><li><a class=sidebar-nested-link href=/docs/course/data_search/>知识库搜索参数</a></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">family_history</i>
高级编排</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/workflow/intro/>高级编排介绍</a></li><li class="sidebar-dropdown nested"><button class=btn>
模块介绍</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/workflow/modules/ai_chat/>AI 对话</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/content_extract/>内容提取</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/guide/>用户引导</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/custom_feedback/>自定义反馈</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/http/>新 HTTP 模块</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/input/>用户问题</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/dataset_search/>知识库搜索</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/question_classify/>问题分类</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/reply/>指定回复</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/trigger/>触发器</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/variable/>全局变量</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/tfswitch/>判断器</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/text_editor/>文本加工</a></li><li><a class=sidebar-nested-link href=/docs/workflow/modules/coreferenceresolution/>问题补全</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
编排示例</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/workflow/examples/fixingevidence/>固定开头和结尾内容</a></li><li><a class=sidebar-nested-link href=/docs/workflow/examples/google_search/>接入谷歌搜索</a></li><li><a class=sidebar-nested-link href=/docs/workflow/examples/lab_appointment/>实验室预约</a></li><li><a class=sidebar-nested-link href=/docs/workflow/examples/versatile_assistant/>全能助手</a></li></ul></div></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">cases</i>
使用案例</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/use-cases/ai_settings/>AI 高级配置说明</a></li><li><a class=sidebar-nested-link href=/docs/use-cases/datasetengine/>知识库结构讲解</a></li><li><a class=sidebar-nested-link href=/docs/use-cases/feishu/>接入飞书</a></li><li><a class=sidebar-nested-link href=/docs/use-cases/onwechat/>对接 chatgpt-on-wechat</a></li><li><a class=sidebar-nested-link href=/docs/use-cases/openapi/>对接第三方 GPT 应用</a></li><li><a class=sidebar-nested-link href=/docs/use-cases/wechat/>接入微信和企业微信</a></li><li><a class=sidebar-nested-link href=/docs/use-cases/kb/>打造高质量 AI 知识库(过期)</a></li></ul></div></li><li class="sidebar-dropdown current active"><button class=btn>
<i class="material-icons me-2">code_blocks</i>
开发与部署指南</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=/docs/development/intro/>快速开始本地开发</a></li><li><a class=sidebar-nested-link href=/docs/development/sealos/>Sealos 一键部署</a></li><li><a class=sidebar-nested-link href=/docs/development/docker/>Docker Compose 快速部署</a></li><li class=current><a class=sidebar-nested-link href=/docs/development/one-api/>接入微软、ChatGLM、本地模型等</a></li><li><a class=sidebar-nested-link href=/docs/development/configuration/>配置文件介绍</a></li><li><a class=sidebar-nested-link href=/docs/development/qa/>常见开发 & 部署问题</a></li><li class="sidebar-dropdown nested"><button class=btn>
版本更新/升级操作</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/development/upgrading/intro/>升级说明</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/466/>V4.6.6（需要改配置文件）</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/465/>V4.6.5（需要改配置文件）</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/464/>V4.6.4(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/463/>V4.6.3(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/462/>V4.6.2(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/461/>V4.6.1</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/46/>V4.6(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/452/>V4.5.2</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/451/>V4.5.1(需进行初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/45/>V4.5(需进行较为复杂更新)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/447/>V4.4.7（需执行升级脚本）</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/446/>V4.4.6</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/445/>V4.4.5(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/442/>升级到 V4.4.2(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/441/>升级到 V4.4.1(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/44/>升级到 V4.4(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/43/>升级到 V4.3(需要初始化)</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/421/>升级到 V4.2.1</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/42/>升级到 V4.2</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/41/>升级到 V4.1</a></li><li><a class=sidebar-nested-link href=/docs/development/upgrading/40/>升级到 V4.0</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
OpenAPI 接口文档</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/development/openapi/auth/>Api Key 使用与鉴权</a></li><li><a class=sidebar-nested-link href=/docs/development/openapi/chat/>对话接口</a></li><li><a class=sidebar-nested-link href=/docs/development/openapi/dataset/>知识库接口</a></li><li><a class=sidebar-nested-link href=/docs/development/openapi/share/>分享链接身份鉴权</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
本地模型使用</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/development/custom-models/chatglm2/>接入 ChatGLM2-6B</a></li><li><a class=sidebar-nested-link href=/docs/development/custom-models/reranker/>接入 ReRank 重排模型</a></li><li><a class=sidebar-nested-link href=/docs/development/custom-models/m3e/>接入 M3E 向量模型</a></li><li><a class=sidebar-nested-link href=/docs/development/custom-models/chatglm2-m3e/>接入 ChatGLM2-m3e 模型</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
代理方案</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/development/proxy/nginx/>Nginx 中转</a></li><li><a class=sidebar-nested-link href=/docs/development/proxy/http_proxy/>HTTP 代理中转</a></li><li><a class=sidebar-nested-link href=/docs/development/proxy/cloudflare/>Cloudflare Worker 中转</a></li></ul></div></li><li class="sidebar-dropdown nested"><button class=btn>
设计方案</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/development/design/dataset/>数据集</a></li></ul></div></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">shopping_cart</i>
商业版介绍</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/commercial/intro/>商业版</a></li></ul></div></li><li><a class=sidebar-root-link href=/docs/pricing/><i class="material-icons me-2">currency_yen</i>
线上版定价</a></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">handshake</i>
协议</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/agreement/open-source/>开源协议</a></li><li><a class=sidebar-nested-link href=/docs/agreement/disclaimer/>免责声明</a></li></ul></div></li><li><a class=sidebar-root-link href=/docs/community/><i class="material-icons me-2">forum</i>
加入社区</a></li></ul></div><ul class="sidebar-footer list-unstyled mb-0"></ul></nav><main class="page-content bg-transparent"><div id=top-header class="top-header d-print-none"><div class="header-bar d-flex justify-content-between"><div class="d-flex align-items-center"><a href=/ class="logo-icon me-3" aria-label=HomePage alt=HomePage><div class=small><svg width="26" height="26" viewBox="0 0 1041 1348" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M340.837.33933 681.068.338989V.455643C684.032.378397 686.999.339702 689.967.339702 735.961.3397 781.504 9.62899 823.997 27.6772 866.49 45.7254 905.099 72.1791 937.622 105.528 970.144 138.877 995.942 178.467 1013.54 222.04 1031.14 265.612 1040.2 312.312 1040.2 359.474H340.836V1347.84C296.157 1347.84 251.914 1338.55 210.636 1320.49 169.357 1302.43 131.85 1275.95 100.257 1242.58 68.6636 1209.21 43.6023 1169.59 26.5041 1125.99 11.3834 1087.43 2.75216 1046.42.957956 1004.81H.605869L.605897 368.098H.70363c-.597878-26.267 1.53378-52.655 6.43943-78.687C20.2709 219.745 52.6748 155.754 100.257 105.528 147.839 55.3017 208.462 21.0975 274.461 7.24017 296.426 2.62833 318.657.339101 340.837.33933z" fill="url(#paint0_linear_1172_228)"/><path d="M633.639 904.645H513.029V576.37H635.422V576.377C678.161 576.607 720.454 585.093 759.951 601.37 799.997 617.874 836.384 642.064 867.033 672.559c30.65 30.495 54.963 66.698 71.55 106.542C955.171 818.944 963.709 861.648 963.709 904.775H633.639V904.645z" fill="url(#paint1_linear_1172_228)"/><defs><linearGradient id="paint0_linear_1172_228" x1="520.404" y1=".338989" x2="520.404" y2="1347.84" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient><linearGradient id="paint1_linear_1172_228" x1="738.369" y1="576.37" x2="738.369" y2="904.775" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient></defs></svg></div><div class=big><svg width="26" height="26" viewBox="0 0 1041 1348" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M340.837.33933 681.068.338989V.455643C684.032.378397 686.999.339702 689.967.339702 735.961.3397 781.504 9.62899 823.997 27.6772 866.49 45.7254 905.099 72.1791 937.622 105.528 970.144 138.877 995.942 178.467 1013.54 222.04 1031.14 265.612 1040.2 312.312 1040.2 359.474H340.836V1347.84C296.157 1347.84 251.914 1338.55 210.636 1320.49 169.357 1302.43 131.85 1275.95 100.257 1242.58 68.6636 1209.21 43.6023 1169.59 26.5041 1125.99 11.3834 1087.43 2.75216 1046.42.957956 1004.81H.605869L.605897 368.098H.70363c-.597878-26.267 1.53378-52.655 6.43943-78.687C20.2709 219.745 52.6748 155.754 100.257 105.528 147.839 55.3017 208.462 21.0975 274.461 7.24017 296.426 2.62833 318.657.339101 340.837.33933z" fill="url(#paint0_linear_1172_228)"/><path d="M633.639 904.645H513.029V576.37H635.422V576.377C678.161 576.607 720.454 585.093 759.951 601.37 799.997 617.874 836.384 642.064 867.033 672.559c30.65 30.495 54.963 66.698 71.55 106.542C955.171 818.944 963.709 861.648 963.709 904.775H633.639V904.645z" fill="url(#paint1_linear_1172_228)"/><defs><linearGradient id="paint0_linear_1172_228" x1="520.404" y1=".338989" x2="520.404" y2="1347.84" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient><linearGradient id="paint1_linear_1172_228" x1="738.369" y1="576.37" x2="738.369" y2="904.775" gradientUnits="userSpaceOnUse"><stop stop-color="#326dff"/><stop offset="1" stop-color="#8eaeff"/></linearGradient></defs></svg></div></a><button id=close-sidebar class="btn btn-icon btn-soft">
<span class="material-icons size-20 menu-icon align-middle">menu</span></button>
<span><div id=docsearch></div></span></div><div class="d-flex align-items-center"><ul class="list-unstyled mb-0"><li class="list-inline-item mb-0"><a href=https://github.com/labring/FastGPT alt=github rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></div></a></li><li class="list-inline-item mb-0"><a href=https://oss.laf.run/htr4n1-images/fastgpt-qr-code.jpg alt=wechat rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>微信群</title><path d="M21.6696 15.9962C21.9464 15.9925 22.2107 15.881 22.4064 15.6853 22.6021 15.4896 22.7137 15.2252 22.7173 14.9485c0-.581-.465500000000002-1.0477-1.0477-1.0477C21.0875 13.9008 20.622 14.3675 20.622 14.9485c0 .583300000000001.4666 1.0477 1.0476 1.0477zm-5.1625.0C16.7839 15.9925 17.0482 15.881 17.2439 15.6853S17.5512 15.2252 17.5548 14.9485c0-.581-.466699999999999-1.0477-1.0477-1.0477C15.9238 13.9008 15.4595 14.3675 15.4595 14.9485c0 .583300000000001.4655 1.0477 1.0476 1.0477zm7.6615 5.88C24.0939 21.9177 24.0342 21.9818 23.9981 22.0594 23.9621 22.1369 23.9515 22.2239 23.968 22.3078 23.968 22.3638 23.968 22.421 23.9971 22.4793c.1144.486500000000003.343 1.2612.343 1.2904C24.3401 23.8548 24.3693 23.912 24.3693 23.9703 24.3693 24.0041 24.3626 24.0376 24.3496 24.0688 24.3367 24.1 24.3177 24.1284 24.2937 24.1522 24.2697 24.1761 24.2413 24.195 24.21 24.2078 24.1788 24.2206 24.1453 24.2272 24.1115 24.227 24.0531 24.227 24.0251 24.199 23.968 24.171L22.2775 23.1957C22.154 23.1277 22.0168 23.0886 21.8761 23.0813 21.791 23.0813 21.7046 23.0813 21.6475 23.1093 20.8448 23.3392 20.0141 23.4535 19.1263 23.4535c-4.27.0-7.7082-2.8665-7.7082-6.4225.0-3.5548 3.4382-6.4225 7.7082-6.4225 4.2688.0 7.707 2.8677 7.707 6.4225.0 1.9215-1.0313 3.6703-2.6647 4.8463V21.8762zM19.4518 9.44883C19.3429 9.44521 19.234 9.44327 19.1251 9.443c-4.8696.0-8.8736 3.3367-8.8736 7.5892.0.6463.0932999999999993 1.2716.266 1.8666H10.4136C9.39426 18.8885 8.38067 18.7442 7.39896 18.4695 7.31263 18.4403 7.22629 18.4403 7.13996 18.4403 6.96754 18.444 6.79921 18.4935 6.65229 18.5838L4.61296 19.7563C4.55463 19.7855 4.49746 19.8147 4.44029 19.8147 4.35703 19.8138 4.27744 19.7803 4.21856 19.7214 4.15968 19.6625 4.1262 19.5829 4.12529 19.4997 4.12529 19.4133 4.15329 19.3562 4.18246 19.2698 4.21046 19.2418 4.46946 18.2968 4.61296 17.7252 4.61296 17.6668 4.64096 17.5817 4.64096 17.5245 4.64065 17.4245 4.61721 17.3259 4.57248 17.2364 4.52775 17.147 4.46295 17.0691 4.38313 17.0088c-1.98217-1.4035-3.2165-3.4918-3.2165-5.8111.0-4.26187 4.165-7.6977 9.27497-7.6977 4.3925.0 8.085 2.5305 9.0102 5.94767V9.44883zM13.4388 9.9365c.6685.0 1.197-.5565 1.197-1.197.0-.6685-.528499999999999-1.197-1.197-1.197S12.2418 8.071 12.2418 8.7395 12.7703 9.9365 13.4388 9.9365zm-6.13667.0c.6685.0 1.19816-.5565 1.19816-1.197.0-.6685-.52966-1.197-1.19816-1.197-.66734.0-1.197.528499999999999-1.197 1.197s.52966 1.197 1.197 1.197z"/></svg></div></a></li></ul><button id=mode class="btn btn-icon btn-default ms-2" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><path d="M24 42q-7.5.0-12.75-5.25T6 24t5.25-12.75T24 6q.4.0.85.025.45.025 1.15.075-1.8 1.6-2.8 3.95t-1 4.95q0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6.0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42zm0-3q5.45.0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75.0-9.775-4.025T19.2 15q0-1.2.25-2.575t.9-3.125q-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39zm-.2-14.85z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><path d="M24 31q2.9.0 4.95-2.05T31 24t-2.05-4.95T24 17t-4.95 2.05T17 24t2.05 4.95T24 31zm0 3q-4.15.0-7.075-2.925T14 24t2.925-7.075T24 14t7.075 2.925T34 24t-2.925 7.075T24 34zM3.5 25.5q-.65.0-1.075-.425Q2 24.65 2 24t.425-1.075Q2.85 22.5 3.5 22.5h5q.65.0 1.075.425Q10 23.35 10 24t-.425 1.075T8.5 25.5zm36 0q-.65.0-1.075-.425Q38 24.65 38 24t.425-1.075T39.5 22.5h5q.65.0 1.075.425Q46 23.35 46 24t-.425 1.075-1.075.425zM24 10q-.65.0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2t1.075.425T25.5 3.5v5q0 .65-.425 1.075Q24.65 10 24 10zm0 36q-.65.0-1.075-.425T22.5 44.5v-5q0-.65.425-1.075Q23.35 38 24 38t1.075.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46zM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05.0.6-.4 1-.4.45-1.025.45T12 14.1zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45zM33.9 14.1q-.45-.45-.45-1.05.0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4t-1.075-.4zM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6.0 1.05.45.45.45.45 1.05.0.6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425zM24 24z"/></svg></span></button></div></div></div><div class=container-fluid><div class=layout-spacing><div class="d-md-flex justify-content-between align-items-center"><nav aria-label=breadcrumb class="d-inline-block pb-2 mt-1 mt-sm-0"><ul id=breadcrumbs class="breadcrumb bg-transparent mb-0" itemscope itemtype=https://schema.org/BreadcrumbList><li class="breadcrumb-item text-capitalize active" aria-current=page itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/><i class="material-icons size-20 align-text-bottom" itemprop=name>Home</i></a><meta itemprop=position content="1"></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/development/><span itemprop=name>开发与部署指南</span></a><meta itemprop=position content="2"></li><li class="breadcrumb-item text-capitalize active" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>接入微软、ChatGLM、本地模型等</span><meta itemprop=position content="3"></li></ul></nav></div><div class="row flex-xl-nowrap"><div class="docs-toc col-xl-3 d-xl-block"><toc><div class="fw-bold text-uppercase mb-2">接入微软、ChatGLM、本地模型等</div><nav id=toc><ul><li><ul><li><a href=#mysql-版本>MySQL 版本</a></li><li><a href=#sqllite-版本>SqlLite 版本</a></li><li><a href=#one-api使用步骤>One API使用步骤</a><ul><li><a href=#1-登录-one-api>1. 登录 One API</a></li><li><a href=#2-创建渠道和令牌>2. 创建渠道和令牌</a></li><li><a href=#3-修改-fastgpt-的环境变量>3. 修改 FastGPT 的环境变量</a></li></ul></li><li><a href=#接入其他模型>接入其他模型</a><ul><li><a href=#1-one-api-添加对应模型渠道>1. One API 添加对应模型渠道</a></li><li><a href=#2-修改-fastgpt-配置文件>2. 修改 FastGPT 配置文件</a></li></ul></li></ul></li></ul></nav></toc></div><div class="docs-toc-mobile d-print-none d-xl-none"><button id=toc-dropdown-btn class="btn-secondary dropdown-toggle" type=button data-bs-toggle=dropdown data-bs-offset=0,0 aria-expanded=false>
Table of Contents</button><nav id=toc-mobile><ul class=dropdown-menu><li><ul><li><a href=#mysql-版本>MySQL 版本</a></li><li><a href=#sqllite-版本>SqlLite 版本</a></li><li><a href=#one-api使用步骤>One API使用步骤</a><ul><li><a href=#1-登录-one-api>1. 登录 One API</a></li><li><a href=#2-创建渠道和令牌>2. 创建渠道和令牌</a></li><li><a href=#3-修改-fastgpt-的环境变量>3. 修改 FastGPT 的环境变量</a></li></ul></li><li><a href=#接入其他模型>接入其他模型</a><ul><li><a href=#1-one-api-添加对应模型渠道>1. One API 添加对应模型渠道</a></li><li><a href=#2-修改-fastgpt-配置文件>2. 修改 FastGPT 配置文件</a></li></ul></li></ul></li></ul></nav></div><div class="docs-content col-12 col-xl-9 mt-0"><div class="mb-0 d-flex"><i class="material-icons title-icon me-2">Api</i><h1 class="content-title mb-0">接入微软、ChatGLM、本地模型等</h1></div><p class="lead mb-3">部署和接入 OneAPI，实现对各种大模型的支持</p><div id=content class=main-content data-bs-spy=scroll data-bs-root-margin="0px 0px -65%" data-bs-target=#toc-mobile><div data-prismjs-copy data-prismjs-copy-success data-prismjs-copy-error><ul><li>默认情况下，FastGPT 只配置了 GPT 的模型，如果你需要接入其他模型，需要进行一些额外配置。</li><li><a href=https://github.com/songquanpeng/one-api rel=external target=_blank>One API<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a> 是一个 OpenAI 接口管理 & 分发系统，可以通过标准的 OpenAI API 格式访问所有的大模型，开箱即用。</li><li>FastGPT 可以通过接入 OneAPI 来实现对不同大模型的支持。OneAPI 的部署方法也很简单。</li></ul><h2 id=mysql-版本>MySQL 版本 <a href=#mysql-%e7%89%88%e6%9c%ac class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p>MySQL 版本支持多实例，高并发。</p><p>直接点击以下按钮即可一键部署 👇</p><p><a href="https://cloud.sealos.io/?openapp=system-fastdeploy%3FtemplateName%3Done-api" rel=external target=_blank><svg width="143" height="32" viewBox="0 0 143 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="142.435" height="32" rx="5.21739" fill="#018cf1"/><path d="M26.0786 12.7024C26.0313 12.5517 25.9733 12.4046 25.905 12.2623V12.2532c-.3188-.651-.8474-1.1747-1.5-1.4863C23.7523 10.4553 23.0139 10.3741 22.3095 10.5365s-1.3334.5588-1.7851 1.125S19.8249 12.9305 19.8211 13.6558C19.8211 13.8839 19.8456 14.1114 19.8942 14.3342 19.8944 14.3373 19.8944 14.3403 19.8942 14.3434 19.9124 14.4351 19.9398 14.5267 19.9673 14.6184 20.1303 15.2642 20.162 15.9364 20.0605 16.5947 19.959 17.2531 19.7264 17.8842 19.3766 18.4504 19.0267 19.0166 18.5668 19.5062 18.0242 19.8901S16.8676 20.5442 16.2186 20.6847C15.5697 20.8252 14.8992 20.833 14.2472 20.7077 13.5952 20.5824 12.9751 20.3266 12.4237 19.9555 11.8724 19.5844 11.4012 19.1057 11.0383 18.5478 10.6754 17.99 10.4283 17.3644 10.3115 16.7086 10.4766 17.8455 10.8777 18.9348 11.4889 19.9062 12.1001 20.8776 12.9078 21.7094 13.8596 22.3477 14.8114 22.9859 15.8862 23.4165 17.0143 23.6115 18.1425 23.8065 19.2989 23.7615 20.4086 23.4795 21.5184 23.1976 22.5567 22.6848 23.4565 21.9746 24.3563 21.2643 25.0974 20.3724 25.6319 19.3564 26.1664 18.3405 26.4824 17.2233 26.5593 16.077 26.6362 14.9308 26.4725 13.7811 26.0786 12.7024v0z" fill="#6378ff"/><path d="M13.0982 15.4618c1.0597 1.5493 3.2521 1.4118 3.2521 1.4118C15.8022 16.3419 15.4459 15.856 15.4094 14.4717 15.3728 13.0874 14.5872 12.7207 14.5872 12.7207 15.994 11.8314 15.4916 10.8688 15.4459 9.79623 15.4185 9.12699 15.8113 8.63194 16.1219 8.34775c-1.7876.26873-3.403 1.21955-4.5092 2.65425-1.1062 1.4347-1.61796 3.2425-1.4286 5.0465C10.312 15.691 12.1208 14.0317 13.0982 15.4618z" fill="#fff"/><path d="M26.0786 12.7024C26.0313 12.5517 25.9733 12.4046 25.905 12.2623V12.2532c-.3188-.651-.8474-1.1747-1.5-1.4863C23.7523 10.4553 23.0139 10.3741 22.3095 10.5365s-1.3334.5588-1.7851 1.125S19.8249 12.9305 19.8211 13.6558C19.8211 13.8839 19.8456 14.1114 19.8942 14.3342 19.8944 14.3373 19.8944 14.3403 19.8942 14.3434 19.9124 14.4351 19.9398 14.5267 19.9673 14.6184 20.1303 15.2642 20.162 15.9364 20.0605 16.5947 19.959 17.2531 19.7264 17.8842 19.3766 18.4504 19.0267 19.0166 18.5668 19.5062 18.0242 19.8901S16.8676 20.5442 16.2186 20.6847C15.5697 20.8252 14.8992 20.833 14.2472 20.7077 13.5952 20.5824 12.9751 20.3266 12.4237 19.9555 11.8724 19.5844 11.4012 19.1057 11.0383 18.5478 10.6754 17.99 10.4283 17.3644 10.3115 16.7086 10.4766 17.8455 10.8777 18.9348 11.4889 19.9062 12.1001 20.8776 12.9078 21.7094 13.8596 22.3477 14.8114 22.9859 15.8862 23.4165 17.0143 23.6115 18.1425 23.8065 19.2989 23.7615 20.4086 23.4795 21.5184 23.1976 22.5567 22.6848 23.4565 21.9746 24.3563 21.2643 25.0974 20.3724 25.6319 19.3564 26.1664 18.3405 26.4824 17.2233 26.5593 16.077 26.6362 14.9308 26.4725 13.7811 26.0786 12.7024v0z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24.7178 14.9117c0 3.9948-3.2269 7.2333-7.2075 7.2333C15.3975 22.145 13.497 21.2327 12.1787 19.7792 12.2586 19.8404 12.3404 19.8992 12.4241 19.9555 12.9754 20.3266 13.5956 20.5824 14.2476 20.7077 14.8996 20.833 15.5701 20.8251 16.219 20.6847 16.8679 20.5442 17.482 20.2739 18.0246 19.8901 18.5671 19.5062 19.0271 19.0166 19.3769 18.4504 19.7268 17.8842 19.9594 17.2531 20.0609 16.5947S20.1307 15.2642 19.9676 14.6184C19.9402 14.5267 19.9128 14.435 19.8945 14.3433 19.8948 14.3403 19.8948 14.3372 19.8945 14.3342 19.846 14.1113 19.8215 13.8839 19.8215 13.6558 19.8252 12.9305 20.0731 12.2277 20.5248 11.6615 20.9765 11.0953 21.6055 10.6988 22.3099 10.5364 22.6005 10.4694 22.8968 10.4439 23.1906 10.4589 24.1475 11.6865 24.7178 13.2323 24.7178 14.9117z" fill="#fff"/><path d="M35.2746 11.932h3.132c1.392.0 2.436.384 3.15600000000001 1.152C42.2466 13.804 42.5946 14.848 42.5946 16.216c0 1.356-.347999999999999 2.4-1.032 3.132C40.8426 20.116 39.7986 20.5 38.4066 20.5h-3.132V11.932zm1.404 1.2V19.3h1.464c1.068.0 1.848-.252000000000002 2.34-.744C40.9626 18.052 41.2026 17.272 41.2026 16.216 41.2026 15.136 40.9626 14.344 40.4826 13.864 39.9906 13.372 39.2106 13.132 38.1426 13.132h-1.464zm9.7527.996c1.02.0 1.8.336 2.34 1.032C49.2633 15.784 49.5153 16.66 49.5153 17.776H44.8713C44.9193 18.352 45.0753 18.796 45.3393 19.096 45.6033 19.396 45.9873 19.552 46.4793 19.552 46.8993 19.552 47.2353 19.456 47.4993 19.264 47.7033 19.108 47.8833 18.856 48.0513 18.508h1.368C49.2753 19.084 48.9873 19.576 48.5553 19.96 48.0033 20.428 47.3193 20.668 46.4913 20.668 45.5673 20.668 44.8353 20.38 44.2953 19.816 43.7193 19.228 43.4313 18.424 43.4313 17.392 43.4313 16.468 43.6953 15.7 44.2473 15.076 44.7753 14.44 45.5073 14.128 46.4313 14.128zM46.4673 15.244C46.0113 15.244 45.6633 15.364 45.3993 15.628 45.1473 15.88 44.9793 16.252 44.8953 16.744h3.192C47.9673 15.736 47.4273 15.244 46.4673 15.244zm7.2766-1.116C54.6559 14.128 55.3759 14.452 55.9039 15.1 56.3839 15.7 56.6239 16.468 56.6239 17.428 56.6239 18.34 56.3839 19.096 55.9159 19.696 55.4119 20.344 54.7039 20.668 53.8159 20.668 53.0959 20.668 52.4719 20.32 51.9679 19.648v3.228h-1.368v-8.58h1.272v.66C52.3039 14.404 52.9279 14.128 53.7439 14.128zM53.5399 15.232C52.9999 15.232 52.5919 15.436 52.3039 15.868 52.0399 16.24 51.9199 16.732 51.9199 17.356V17.452C51.9199 18.1 52.0759 18.628 52.3999 19.024 52.6879 19.384 53.0479 19.564 53.4919 19.564 54.0919 19.564 54.5479 19.36 54.8359 18.976 55.0879 18.616 55.2199 18.1 55.2199 17.428S55.0999 16.24 54.8719 15.88C54.5839 15.448 54.1399 15.232 53.5399 15.232zm4.3987-3.468h1.368V20.5h-1.368V11.764zm5.8069 2.364C64.6815 14.128 65.4375 14.428 66.0135 15.052 66.5775 15.664 66.8655 16.444 66.8655 17.404 66.8655 18.352 66.5775 19.132 66.0255 19.732 65.4495 20.356 64.6815 20.668 63.7455 20.668c-.948.0-1.704-.311999999999998-2.28-.936C60.9015 19.132 60.6255 18.352 60.6255 17.404 60.6255 16.444 60.9015 15.664 61.4775 15.052c.564-.623999999999999 1.32-.924 2.268-.924zm0 1.116C63.1695 15.244 62.7375 15.46 62.4255 15.916 62.1615 16.3 62.0295 16.804 62.0295 17.404S62.1615 18.496 62.4255 18.88C62.7375 19.324 63.1695 19.552 63.7455 19.552 64.3095 19.552 64.7535 19.324 65.0655 18.88 65.3295 18.484 65.4735 17.992 65.4735 17.404 65.4735 16.804 65.3295 16.3 65.0655 15.916 64.7535 15.46 64.3095 15.244 63.7455 15.244zm3.6553-.948h1.488L70.5328 18.712l1.572-4.416h1.488l-3.36 8.58h-1.464l1.092-2.52L67.4008 14.296zM81.2533 14.128C82.1893 14.128 82.9453 14.428 83.5213 15.052 84.0853 15.664 84.3733 16.444 84.3733 17.404 84.3733 18.352 84.0853 19.132 83.5333 19.732 82.9573 20.356 82.1893 20.668 81.2533 20.668 80.3053 20.668 79.5493 20.356 78.9733 19.732 78.4093 19.132 78.1333 18.352 78.1333 17.404 78.1333 16.444 78.4093 15.664 78.9853 15.052 79.5493 14.428 80.3053 14.128 81.2533 14.128zm0 1.116C80.6773 15.244 80.2453 15.46 79.9333 15.916 79.6693 16.3 79.5373 16.804 79.5373 17.404S79.6693 18.496 79.9333 18.88C80.2453 19.324 80.6773 19.552 81.2533 19.552 81.8173 19.552 82.2613 19.324 82.5733 18.88 82.8373 18.484 82.9813 17.992 82.9813 17.404 82.9813 16.804 82.8373 16.3 82.5733 15.916 82.2613 15.46 81.8173 15.244 81.2533 15.244zm7.5193-1.116c1.548.0 2.328.84 2.328 2.544V20.5h-1.368V16.792C89.7326 15.772 89.2646 15.268 88.3286 15.268 87.9926 15.268 87.6926 15.388 87.4406 15.628 87.1526 15.892 86.9846 16.276 86.9366 16.768V20.5h-1.368V14.296h1.368V15.016C87.1766 14.728 87.4526 14.5 87.7526 14.356 88.0646 14.2 88.4006 14.128 88.7726 14.128zm10.9088-2.364C100.689 11.764 101.481 11.968 102.045 12.388 102.645 12.832 102.993 13.528 103.077 14.464h-1.392C101.565 13.936 101.337 13.552 101.025 13.324 100.713 13.084 100.233 12.976 99.6094 12.976 99.0694 12.976 98.6614 13.048 98.3734 13.204 98.0134 13.384 97.8454 13.684 97.8454 14.092 97.8454 14.452 98.0374 14.752 98.4454 14.968 98.6254 15.064 99.1174 15.244 99.9094 15.496 101.073 15.856 101.817 16.144 102.153 16.336 102.897 16.78 103.269 17.392 103.269 18.184 103.269 18.952 102.969 19.564 102.369 20.008 101.769 20.44 100.917 20.668 99.8254 20.668 98.7694 20.668 97.9414 20.464 97.3534 20.056 96.6334 19.552 96.2374 18.76 96.1774 17.668h1.392C97.6654 18.316 97.8934 18.784 98.2654 19.06 98.6014 19.3 99.1174 19.432 99.8254 19.432 100.449 19.432 100.953 19.324 101.313 19.12 101.673 18.904 101.865 18.628 101.865 18.268 101.865 17.812 101.589 17.452 101.061 17.188 100.893 17.104 100.341 16.912 99.3934 16.624 98.3374 16.288 97.6774 16.048 97.4254 15.904 96.7654 15.508 96.4414 14.932 96.4414 14.176S96.7534 12.82 97.4014 12.388C98.0014 11.968 98.7574 11.764 99.6814 11.764zm7.3126 2.364c1.02.0 1.8.336 2.34 1.032C109.826 15.784 110.078 16.66 110.078 17.776H105.434C105.482 18.352 105.638 18.796 105.902 19.096S106.55 19.552 107.042 19.552C107.462 19.552 107.798 19.456 108.062 19.264 108.266 19.108 108.446 18.856 108.614 18.508h1.368C109.838 19.084 109.55 19.576 109.118 19.96 108.566 20.428 107.882 20.668 107.054 20.668 106.13 20.668 105.398 20.38 104.858 19.816 104.282 19.228 103.994 18.424 103.994 17.392 103.994 16.468 104.258 15.7 104.81 15.076 105.338 14.44 106.07 14.128 106.994 14.128zM107.03 15.244C106.574 15.244 106.226 15.364 105.962 15.628 105.71 15.88 105.542 16.252 105.458 16.744H108.65C108.53 15.736 107.99 15.244 107.03 15.244zm6.952-1.116C114.894 14.128 115.578 14.356 116.01 14.812 116.394 15.208 116.586 15.784 116.586 16.54V20.5H115.314V19.684C115.074 19.996 114.774 20.224 114.426 20.392 114.03 20.572 113.562 20.668 113.022 20.668 112.374 20.668 111.87 20.5 111.498 20.176 111.114 19.84 110.922 19.42 110.922 18.904 110.922 18.208 111.186 17.668 111.738 17.296 112.242 16.936 112.95 16.744 113.862 16.72L115.218 16.684V16.444C115.218 15.628 114.774 15.232 113.886 15.232 113.502 15.232 113.202 15.292 112.974 15.436 112.71 15.592 112.53 15.832 112.458 16.156L111.102 16.048C111.234 15.364 111.57 14.86 112.11 14.548c.456000000000003-.288 1.08-.42 1.872-.42zm1.236 3.54L113.958 17.704C112.866 17.728 112.326 18.112 112.326 18.856 112.326 19.072 112.41 19.252 112.602 19.396 112.794 19.54 113.034 19.624 113.334 19.624 113.862 19.624 114.306 19.468 114.666 19.168 115.026 18.856 115.218 18.46 115.218 17.98V17.668zm2.932-5.904h1.368V20.5H118.15V11.764zm5.806 2.364C124.892 14.128 125.648 14.428 126.224 15.052 126.788 15.664 127.076 16.444 127.076 17.404 127.076 18.352 126.788 19.132 126.236 19.732 125.66 20.356 124.892 20.668 123.956 20.668 123.008 20.668 122.252 20.356 121.676 19.732 121.112 19.132 120.836 18.352 120.836 17.404 120.836 16.444 121.112 15.664 121.688 15.052 122.252 14.428 123.008 14.128 123.956 14.128zm0 1.116C123.38 15.244 122.948 15.46 122.636 15.916 122.372 16.3 122.24 16.804 122.24 17.404S122.372 18.496 122.636 18.88C122.948 19.324 123.38 19.552 123.956 19.552 124.52 19.552 124.964 19.324 125.276 18.88 125.54 18.484 125.684 17.992 125.684 17.404 125.684 16.804 125.54 16.3 125.276 15.916 124.964 15.46 124.52 15.244 123.956 15.244zM130.612 14.128C132.244 14.128 133.144 14.776 133.288 16.096H131.956C131.86 15.784 131.716 15.556 131.524 15.436 131.32 15.304 131.008 15.244 130.588 15.244 130.228 15.244 129.952 15.292 129.772 15.4 129.556 15.508 129.46 15.676 129.46 15.916 129.46 16.108 129.616 16.288 129.952 16.432 130.156 16.516 130.564 16.636 131.188 16.792 131.884 16.96 132.412 17.152 132.748 17.38 133.24 17.692 133.492 18.136 133.492 18.688 133.492 20.008 132.556 20.668 130.696 20.668 128.968 20.668 128.044 19.936 127.912 18.484H129.244C129.316 18.88 129.46 19.156 129.664 19.324 129.868 19.468 130.192 19.552 130.648 19.552 131.608 19.552 132.088 19.288 132.088 18.784 132.088 18.496 131.908 18.268 131.548 18.1 131.356 18.004 130.948 17.896 130.324 17.752 129.592 17.584 129.076 17.404 128.776 17.212 128.296 16.912 128.056 16.492 128.056 15.952 128.056 15.376 128.284 14.932 128.764 14.62 129.232 14.284 129.844 14.128 130.612 14.128z" fill="#fff"/></svg><svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a></p><p>部署完后会跳转「应用管理」，数据库在另一个应用「数据库」中。需要等待 1~3 分钟数据库运行后才能访问成功。</p><h2 id=sqllite-版本>SqlLite 版本 <a href=#sqllite-%e7%89%88%e6%9c%ac class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p>SqlLite 版本不支持多实例，适合个人小流量使用，但是价格非常便宜。</p><p><strong>1. <a href=https://cloud.sealos.io/ rel=external target=_blank>点击打开 Sealos 公有云<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentcolor" d="M14 5c-.552.0-1-.448-1-1s.448-1 1-1h6c.552.0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1V6.414l-7.293 7.293c-.391.39-1.024.39-1.414.0-.391-.391-.391-1.024.0-1.414L17.586 5H14zM5 7c-.552.0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552.0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1V19c0 1.657-1.343 3-3 3H5c-1.657.0-3-1.343-3-3V8c0-1.657 1.343-3 3-3h4.563c.552.0 1 .448 1 1s-.448 1-1 1H5z"/></svg></a></strong></p><p><strong>2. 打开 AppLaunchpad(应用管理) 工具</strong></p><p><img src=/imgs/oneapi-step1.jpg alt=step1 width=3840 height=1858 loading=lazy></p><p><strong>3. 点击创建新应用</strong></p><p><strong>4. 填写对应参数</strong></p><p>镜像：ghcr.io/songquanpeng/one-api:latest</p><p><img src=/imgs/oneapi-step2.png alt=step2 width=3840 height=1858 loading=lazy>
打开外网访问开关后，Sealos 会自动分配一个可访问的地址，不需要自己配置。</p><p><img src=/imgs/oneapi-step3.png alt=step3 width=3840 height=1858 loading=lazy>
填写完参数后，点击右上角部署即可。环境变量：</p><div class=prism-codeblock><pre id=764d23e class=language->
  <code>SESSION_SECRET=SESSION_SECRET
POLLING_INTERVAL=60
BATCH_UPDATE_ENABLED=true
BATCH_UPDATE_INTERVAL=60</code>
  </pre></div><h2 id=one-api使用步骤>One API使用步骤 <a href=#one-api%e4%bd%bf%e7%94%a8%e6%ad%a5%e9%aa%a4 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><h3 id=1-登录-one-api>1. 登录 One API <a href=#1-%e7%99%bb%e5%bd%95-one-api class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>打开 【One API 应用详情】，找到访问地址：
<img src=/imgs/oneapi-step4.png alt=step4 width=3840 height=1858 loading=lazy></p><p>登录 One API
<img src=/imgs/oneapi-step5.png alt=step5 width=3840 height=1858 loading=lazy></p><h3 id=2-创建渠道和令牌>2. 创建渠道和令牌 <a href=#2-%e5%88%9b%e5%bb%ba%e6%b8%a0%e9%81%93%e5%92%8c%e4%bb%a4%e7%89%8c class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>在 One API 中添加对应渠道，直接点击 【添加基础模型】，不要遗漏了向量模型
<img src=/imgs/oneapi-step6.png alt=step6 width=2880 height=1502 loading=lazy></p><p>创建一个令牌
<img src=/imgs/oneapi-step7.png alt=step7 width=2880 height=1502 loading=lazy></p><h3 id=3-修改-fastgpt-的环境变量>3. 修改 FastGPT 的环境变量 <a href=#3-%e4%bf%ae%e6%94%b9-fastgpt-%e7%9a%84%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>有了 One API 令牌后，FastGPT 可以通过修改 <code>baseurl</code> 和 <code>key</code> 去请求到 One API，再由 One API 去请求不同的模型。修改下面两个环境变量：</p><div class=prism-codeblock><pre id=d7bd6d4 class=language-bash>
  <code># 下面的地址是 Sealos 提供的，务必写上 v1， 两个项目都在 sealos 部署时候，https://xxxx.cloud.sealos.io 可以改用内网地址
OPENAI_BASE_URL=https://xxxx.cloud.sealos.io/v1
# 下面的 key 是由 One API 提供的令牌
CHAT_API_KEY=sk-xxxxxx</code>
  </pre></div><h2 id=接入其他模型>接入其他模型 <a href=#%e6%8e%a5%e5%85%a5%e5%85%b6%e4%bb%96%e6%a8%a1%e5%9e%8b class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><p><strong>以添加文心一言为例:</strong></p><h3 id=1-one-api-添加对应模型渠道>1. One API 添加对应模型渠道 <a href=#1-one-api-%e6%b7%bb%e5%8a%a0%e5%af%b9%e5%ba%94%e6%a8%a1%e5%9e%8b%e6%b8%a0%e9%81%93 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p><img src=/oneapi-demo1_9427798612653343675.png alt width=3840 height=1858 loading=lazy></p><h3 id=2-修改-fastgpt-配置文件>2. 修改 FastGPT 配置文件 <a href=#2-%e4%bf%ae%e6%94%b9-fastgpt-%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h3><p>可以在 <code>/projects/app/src/data/config.json</code> 里找到配置文件（本地开发需要复制成 config.local.json），配置文件中有一项是对话模型配置：</p><div class=prism-codeblock><pre id=611ee65 class=language-json>
  <code>&#34;ChatModels&#34;: [
    ...
    {
      &#34;model&#34;: &#34;ERNIE-Bot&#34;, // 这里的模型需要对应 One API 的模型
      &#34;name&#34;: &#34;文心一言&#34;, // 对外展示的名称
      &#34;maxContext&#34;: 8000, // 最大长下文 token，无论什么模型都按 GPT35 的计算。GPT 外的模型需要自行大致计算下这个值。可以调用官方接口去比对 Token 的倍率，然后在这里粗略计算。
      &#34;maxResponse&#34;: 4000, // 最大回复 token
      // 例如：文心一言的中英文 token 基本是 1:1，而 GPT 的中文 Token 是 2:1，如果文心一言官方最大 Token 是 4000，那么这里就可以填 8000，保险点就填 7000.
      &#34;quoteMaxToken&#34;: 2000, // 引用知识库的最大 Token
      &#34;maxTemperature&#34;: 1, // 最大温度
      &#34;vision&#34;: false, // 是否开启图片识别
      &#34;defaultSystemChatPrompt&#34;: &#34;&#34; // 默认的系统提示词
    }
    ...
],</code>
  </pre></div><p>添加完后，重启 FastGPT 即可在选择文心一言模型进行对话。</p></div><div class="gitinfo d-flex flex-wrap justify-content-between align-items-center opacity-85 pt-3"><div id=edit-this-page class=mt-1><a href=https://github.com/labring/FastGPT/blob/main/docSite/content/docs/development/one-api.md alt=接入微软、ChatGLM、本地模型等 rel="noopener noreferrer" target=_blank><span class="me-1 align-text-bottom"><svg width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentcolor"><path d="M16 .396c-8.839.0-16 7.167-16 16 0 7.073 4.584 13.068 10.937 15.183.803.151 1.093-.344 1.093-.772.0-.38-.009-1.385-.015-2.719-4.453.964-5.391-2.151-5.391-2.151-.729-1.844-1.781-2.339-1.781-2.339-1.448-.989.115-.968.115-.968 1.604.109 2.448 1.645 2.448 1.645 1.427 2.448 3.744 1.74 4.661 1.328.14-1.031.557-1.74 1.011-2.135-3.552-.401-7.287-1.776-7.287-7.907.0-1.751.62-3.177 1.645-4.297-.177-.401-.719-2.031.141-4.235.0.0 1.339-.427 4.4 1.641 1.281-.355 2.641-.532 4-.541 1.36.009 2.719.187 4 .541 3.043-2.068 4.381-1.641 4.381-1.641.859 2.204.317 3.833.161 4.235 1.015 1.12 1.635 2.547 1.635 4.297.0 6.145-3.74 7.5-7.296 7.891.556.479 1.077 1.464 1.077 2.959.0 2.14-.02 3.864-.02 4.385.0.416.28.916 1.104.755 6.4-2.093 10.979-8.093 10.979-15.156.0-8.833-7.161-16-16-16z"/></svg></span>编辑此页面</a></div></div></div><div><hr class=doc-hr><div id=doc-nav class=d-print-none><div class="row flex-xl-nowrap"><div class="col-sm-6 pt-2 doc-next"><a href=/docs/development/docker/><div class="card h-100 my-1"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> Docker Compose 快速部署</p><p class="card-text ms-2">使用 Docker Compose 快速部署 FastGPT</p></div></div></a></div><div class="col-sm-6 pt-2 doc-prev"><a class=ms-auto href=/docs/development/configuration/><div class="card h-100 my-1 text-end"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0">配置文件介绍 <i class="material-icons align-middle">navigate_next</i></p><p class="card-text me-2">FastGPT 配置参数介绍</p></div></div></a></div></div></div></div></div></div></div></div><footer class="shadow py-3 d-print-none"><div class="row align-items-center" style=height:90px><div class=col><div class="text-sm-start text-center mx-md-2"><p class=mb-0>© 2024 the FastGPT Authors.</p><p class=github-badge><span class=badge-subject>云操作系统</span><span class="badge-value bg-blue"><a style=color:#fff href=https://sealos.io/ target=_blank>Sealos</a></span>
<span class=badge-subject>云开发</span><span class="badge-value bg-brightgreen"><a style=color:#fff href=https://laf.run target=_blank>Laf</a></span>
<span class=badge-subject>云原生存储</span><span class="badge-value bg-orange"><a style=color:#fff href=https://github.com/labring/sealfs target=_blank>Sealfs</a></span></p><div id=fixed-box><div class=feedback-btn-wrapper><a href=https://fael3z0zfze.feishu.cn/share/base/form/shrcnRxj3utrzjywsom96Px4sud style=text-decoration:none target=_blank><button id=feedback-btn title="Give feedback"><svg class="inline w-5 h-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M18 13V5a2 2 0 00-2-2H4A2 2 0 002 5v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6A1 1 0 015 7zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z" clip-rule="evenodd"/></svg>
<span _msttexthash=6039839 _msthash=295>咨询合作</span></button></a></div></div></div></div></div></footer></main></div></div><button onclick=topFunction() id=back-to-top aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12 10.224l-6.3 6.3-1.38-1.372L12 7.472l7.68 7.68-1.38 1.376z" style="fill:#fff"/></svg></button>
<script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script><script src=/docs/js/bootstrap.58faa4dc6cac13820c8a72b1fdd5d716641b3129ef981b1956fa23d69ad59f180fed6d42cb92030ac272ba85e7f8247d.js integrity=sha384-WPqk3GysE4IMinKx/dXXFmQbMSnvmBsZVvoj1prVnxgP7W1Cy5IDCsJyuoXn+CR9 defer></script>
<script type=text/javascript src=/docs/js/bundle.min.8dfea95f4c5cbd80217eb5463cdb3367836244f2c6b7e02deb3e22b627c1425e73076fb23f1c17b709743968997924a6.js integrity=sha384-jf6pX0xcvYAhfrVGPNszZ4NiRPLGt+At6z4itifBQl5zB2+yPxwXtwl0OWiZeSSm crossorigin=anonymous defer></script>
<script src=https://cdn.jsdelivr.us/npm/medium-zoom/dist/medium-zoom.min.js crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>const images=Array.from(document.querySelectorAll(".main-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null,background:"rgba(0, 0, 0, 0.8)"})})</script><script>window.addEventListener("DOMContentLoaded",function(){docsearch({container:"#docsearch",appId:"5BEWEMH0YA",apiKey:"14834e919a87217d919d6d881fcacac3",indexName:"fastgpt",placeholder:"搜索",translations:{button:{buttonText:"搜索",buttonAriaLabel:"搜索"},modal:{startScreen:{noRecentSearchesText:"没有最近搜索"},footer:{selectText:"选中",selectKeyAriaLabel:"Enter key",navigateText:"导航",navigateUpKeyAriaLabel:"Arrow up",navigateDownKeyAriaLabel:"Arrow down",closeText:"关闭",closeKeyAriaLabel:"Escape key",searchByText:"搜索提供"},noResultsScreen:{noResultsText:"没有结果：",suggestedQueryText:"试试搜索",reportMissingResultsText:"Believe this query should return results?",reportMissingResultsLinkText:"Let us know."}}}})})</script></body></html>